{% extends './../../components/base.html' %}
{% block title %}
Courses
{% endblock %}

{% block meta%}
<style>
    .course-image {
        max-width: 200px;
        width: 200px;
        height: 200px;
        overflow: hidden;
        background-color: #aaaaaa60;
    }

    .course-image img {
        max-width: 100%;
        object-fit: cover;
    }
</style>
{% endblock %}


{% block content %}

<div class="container py-5">

    <div class="d-flex align-items-center justify-content-between">
        <h1>Courses</h1>
        <a href="{% url 'admin-courses-add' %}" class="btn btn-small btn-primary">
            Add course
        </a>
    </div>


    <div>
        {% include './../../components/errors.html' %}
    </div>

    <div class="mt-3">
        <div class="custom-table-holder">
            <table class="custom-table bg-white">
                <thead>
                    <tr>
                        <th class="custom-th-id">ID</th>
                        <th class="custom-th">Banner Image</th>
                        <th class="custom-th">Title</th>
                        <th class="custom-th">Description</th>
                        <th class="custom-th">Cost</th>
                        <th class="custom-th">Duration</th>
                        <th class="custom-th">Instructor</th>
                        <th class="custom-th">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for course in courses %}
                    <tr>
                        <td> {{course.id}} </td>
                        <td>
                            <div class="course-image">
                                <img src="/media/{{course.image}}" alt="{{course.title}}">
                            </div>
                        </td>
                        <td> {{course.title}} </td>
                        <td> {{course.description}} </td>
                        <td> {{course.cost}} </td>
                        <td> {{course.duration}} </td>
                        <td> {{course.instructor.username}} </td>
                        <td>
                            <span class="me-4 action-icon"><i class="fas fa-eye text-primary"></i></span>

                            <a href="{% url 'admin-courses-update' pk=course.id %}">
                                <span class="me-4 action-icon">
                                    <i class="fas fa-pencil text-warning"></i>
                                </span>
                            </a>
                            <a href="{% url 'admin-courses-delete' pk=course.id %}">
                                <span class="me-4 action-icon">
                                    <i class="fas fa-trash text-danger"></i>
                                </span>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</div>

{% endblock content %}